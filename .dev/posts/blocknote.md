Title: Blocknote
Slug: blocknote
Date: 2016-10-03
Category: projects
Tags: python, project, jinja2, pygments, blog, draft
Cover: b1.jpg
FocalPoint: 50%
Summary: Генератор статических сайтов из mk файлов


## Предистория

Изначально блог генерировался [Pelican](http://blog.getpelican.com/), но терпению моему пришел конец. Куча скриптов и обязательный допил удручали.
Решил посмотреть на другие решения. Некоторые требуют написание моделей, другим необходима сложная структура каталогов. Совсем упоротые хотят базу данных (O_o). Например, [Lektor](https://www.getlektor.com/) требует написания моделей, а его админка (для которой, как я понимаю, это всё и затевалось) мне ни к чему. Перепил его -- явно не самая простая задача.

Основная проблема многих генераторов в том, что они имеют высокий порог вхождения. Требуют много ненужных действий, и обладают магией. Их архитектура сложна и перепил любого из них вызовет анальную боль.

По-этому возникло желание написать маленький, лёгкий для перепила генератор статических сайтов. Естественно на Python.


## Архитектура

Структура каталогов выглядит следующим образом.
Из обязательных частей, это директория *.dev*, в которой располагается сам генератор (*blocknote.py*), конфигурационный файл (*conf.py*), директория *posts* с вашими [markdown](http://daringfireball.net/projects/markdown/syntax)-файлами и директория *templates* с [jinja2](http://jinja.pocoo.org/) шаблонами.

*blocknote.py* лежит здесь с той целью, что вы скорее всего всё равно будете его переписывать под конкретный сайт. **Blocknote** скорее фреймворк, чем готовый продукт -- в этом его суть.

    :::sh
    .
    ├── assets
    │   ├── css
    │   │   ├── *.css
    │   │   └── pygment.css
    │   ├── images
    │   │   └── *.jpg
    │   └── js
    │       └── *.js
    ├── .dev
    │   ├── blocknote.py
    │   ├── conf.py
    │   ├── posts
    │   │   └── <posts>.md
    │   └── templates
    │       ├── article.html
    │       ├── index.html
    │       └── project.html
    ├── index.html
    └── <posts>.html

Документы в *posts* могут лежать во вложенных каталогах. Генератор не учитывает внутреннюю структуру каталогов в *posts* -- вы можете использовать её в собственных целях.